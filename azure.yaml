name: hello-ai-world
services:
  backend:
    language: python
    project: src/backend
    host: containerapp
    docker:
      path: ./Dockerfile
      context: ../..
      remoteBuild: true # set to false if you want to build Docker images locally on your machine
      # see https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/azd-schema#docker-options-sample
  frontend:
    language: python
    project: src/frontend
    host: containerapp
    docker:
      path: ./Dockerfile
      context: ../..
      remoteBuild: true # set to false if you want to build Docker images locally on your machine
      # see https://learn.microsoft.com/en-us/azure/developer/azure-developer-cli/azd-schema#docker-options-sample
hooks:
  preprovision:
  #  windows:
  #    shell: pwsh
  #    run: .\scripts\preprovision.ps1
  #    interactive: true
  #    continueOnError: false
    posix:
      shell: sh
      run: ./scripts/preprovision.sh
      interactive: true
      continueOnError: false
  postprovision:
    # windows:
    #   shell: pwsh
    #   run: .\scripts\postprovision.ps1
    #   interactive: true
    #   continueOnError: false
    posix:
      shell: sh
      run: ./scripts/postprovision.sh
      interactive: true
      continueOnError: false
  predown:
    # windows:
    #   shell: pwsh
    #   run: .\scripts\predown.ps1
    #   interactive: true
    #   continueOnError: false
    posix:
      shell: sh
      run: ./scripts/predown.sh
      interactive: true
      continueOnError: false

